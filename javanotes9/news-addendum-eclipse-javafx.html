<html>
<head>
<title>Javanotes Version 8 -- News Addendum 21-Jan-2019</title>
<link type="text/css" rel="stylesheet" href="javanotes.css">
<style>
   .error {
       color: #600000;
       font-style: oblique;
   }
   .fix {
       color: #005000;
       font-style: oblique;
   }
   li {
       margin-top:5px;
   }
</style>
</head>
<body>
<div class="page">
<div class="content">
<h2 class="chapter_title">Using JavaFX with JDK 11 in Eclipse 2018-12</h2>
<h4 class="chapter_title">(For <a href="index.html">Introduction to Programming Using Java, Version 8.0</a>)</h4>
<hr>

<p>With the release of Java 11, JavaFX was removed from Java and from the Java Development Kit.
As of the December 2018 release of the <a href="https://www.eclipse.org">Eclipse&nbsp;IDE</a>,
Eclipse fully supports Java&nbs;11.  The question is, how to easily use JavaFX in that
environment (for students using this textbook, in particular).  The goal to make JavaFX 
automatically available in all projects in a given workspace.  This can be accomplished by
setting up the Preferences for the workspace, as shown in the image at the bottom of this page.
The following downloads were used:</p>

<ul>

<li>For the JDK, I downloaded OpenJDK 11 from <a href="https://jdk.java.net/11/">https://jdk.java.net/11/</a>.
(The version from <a href="https://www.oracle.com/technetwork/java/javase/downloads/jdk11-downloads-5066655.html">Oracle</a> should work the same.)
The JDK is on my computer in the directory <i span="white-space:pre">/home/eck/jdk-11.0.1</i>.</li>

<li>For JavaFX, I&nbsp;downloaded the JavaFX SDK 11 from <a href="https://gluonhq.com/products/javafx/">https://gluonhq.com/products/javafx/</a>.
Several downloads are available; you want the "SDK" for your platform (<b>not</b> the "jmods").
The JavaFX SDK is on my computer in the directory <i style="white-space:pre">/home/eck/javafx-skd-11</i>.
That directory contains a "lib" directory that includes several .jar files, such as <i>javafx.bas.jar</i>;
a zip file, <i>src.zip</i>, with the JavaFX source code; and the binary support libraries needed by your platform.</li>

</ul>

<p>After starting up Eclipse 2018-12, and opening the workspace that I intended to use for JavaFX development,
I configured the workspace as follows, and as shown in the image below:</p>

<ul>
<li>In the Eclipse "Preferences", go to the "Java" section, then to "installed JRE's.</li>
<li>If JDK 11 is already installed as a JRE, click "Edit".  Otherwise, click "Add", and
in the pop-up dialog box, set the "JRE&nbsp;home" to the directory that contains the downloaded JDK&nbsp;11.
(Click the "Directory..." button to select the directory with a GUI file browser.)</li>
<li>Click the "Add External Jars" button in the dialog box.  In the pop-up dialog that opens, browse to the
"lib" directory inside the JavaFX&nbsp;SDK download, select all the .jar files in that directory,
and click&nbsp;"OK".  The .jar files will be added to the list of "JRE system libraries."  This step
is enough for JavaFX programs to be successfully compiled.</li>
<li>In the "Default VM arguments" box, enter the following text, but changing 
<span style="white-space:pre">"/home/eck/javafx-sdk-11"</span> to the
correct full path to the JavaFX directory on your computer (matching the path shown for the .jar
files in the "JRE system libraries" list):
<pre>--module-path=/home/eck/javafx-sdk-11/lib  --add-modules=ALL-MODULE-PATH</pre>
These are options that should be added to the <i>java</i> command to run JavaFX programs.
By entering them here, you will not need to enter them separately in every program's run configuration.
(The value <i style="white-space: pre">ALL-MODULE-PATH</i> lets you use features from all JavaFX modules.)</li>
<li>Select all the JavaFX .jar files in the "JRE system libraries" list, and click the "Source attachment"
button.  In the pop-up that appears, select "External location", and set the "Path" to refer to the
file <i>src.zip</i> from the <i>lib</i> directory of the JavaFX&nbsp;SDK download.  (Click the
"External&nbsp;File..." button to select the directory using a GUI file browser.) Click "OK".
This will allow Eclipse to show you the Javadoc documentation for JavaFX classes and methods.</li>
<li>Close the Add or Edit dialog box by clicking "Finish", and close the Preferences dialog box
by clicking "Apply and Close".</li>
</ul>
<br>
<p align="center" class="np"><img src="javafx-src-setup.png" width="690" height="720"
         alt="Setting up JavaFX with Java 11 and Eclipse 2018-12"></p>


</div>
</div>
</body>
</html>
